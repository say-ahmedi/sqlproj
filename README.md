# Проект SQL: Управление Транзакциями

Этот проект включает два основных скрипта для работы с базой данных:

1. **Настройка базы данных** (`db_setup.sql`)
2. **SQL-запрос для успешных транзакций** (`succesful_transactions.sql`)

## Настройка базы данных

Скрипт `db_setup.sql` создает три таблицы:

- **User**: Информация о пользователях
  - `id` (INT) — Идентификатор пользователя
  - `date` (DATE) — Дата регистрации
  - `Admin` (BOOLEAN) — Флаг администратора (TRUE/FALSE)

- **Pay**: Платежи
  - `userId` (INT) — Идентификатор пользователя
  - `amount` (DECIMAL) — Сумма платежа
  - `isPay` (BOOLEAN) — Статус платежа (TRUE - успешный)

- **Dealer**: Транзакции с дилерами
  - `userId` (INT) — Идентификатор пользователя
  - `amount` (DECIMAL) — Сумма транзакции

## SQL-запрос для успешных транзакций

Скрипт `succesful_transactions.sql` выполняет следующие действия:

1. **Извлечение успешных транзакций**:
   - Объединяет данные из таблиц `Pay` и `Dealer`.

2. **Получение статистики пользователей**:
   - Выводит:
     - Идентификатор пользователя
     - Дата регистрации
     - Количество успешных депозитов
     - Сумма успешных депозитов

3. **Сортировка результатов**:
   - Сортирует данные по сумме успешных депозитов в убывающем порядке.

## Как использовать

1. **Запустите скрипт `db_setup.sql`**, чтобы создать таблицы в вашей базе данных.
2. **Добавьте данные** в таблицы `User`, `Pay`, и `Dealer`.
3. **Запустите скрипт `succesful_transactions.sql`**, чтобы получить результаты.

## Примеры данных

```sql
-- Примеры данных для таблицы User
INSERT INTO User (id, date, Admin) VALUES (1, '2023-01-01', FALSE);
INSERT INTO User (id, date, Admin) VALUES (2, '2023-02-01', TRUE);

-- Примеры данных для таблицы Pay
INSERT INTO Pay (userId, amount, isPay) VALUES (1, 100.00, TRUE);
INSERT INTO Pay (userId, amount, isPay) VALUES (1, 50.00, TRUE);
INSERT INTO Pay (userId, amount, isPay) VALUES (2, 75.00, FALSE);

-- Примеры данных для таблицы Dealer
INSERT INTO Dealer (userId, amount) VALUES (1, 200.00);
INSERT INTO Dealer (userId, amount) VALUES (2, 150.00);
